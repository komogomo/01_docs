# 第3章: ログイン画面詳細

**Document:** LOGIN画面 機能設計書 v1.0  
**Chapter:** 3 of 6  
**Last Updated:** 2025/10/27

---

## 3.1 画面構成（3層構造）

ログイン画面は、統一された3層構造を採用します。

```
┌─────────────────────────────────────┐
│   ヘッダー領域 (Layer 1)             │
│   - アプリタイトル                    │
│   - 言語切替ボタン                    │
├─────────────────────────────────────┤
│                                     │
│   コンテンツ領域 (Layer 2)           │
│   - タイトル                         │
│   - サブタイトル                     │
│   - 入力フォーム                     │
│     ∟ メールアドレス                │
│     ∟ テナントID                    │
│   - 送信ボタン                       │
│                                     │
├─────────────────────────────────────┤
│   フッター領域 (Layer 3)             │
│   - リンク（利用規約等）              │
│   - コピーライト                     │
└─────────────────────────────────────┘
```

---

## 3.2 ヘッダー領域

### 構成要素

| 要素 | 説明 | 必須 |
|------|------|------|
| **アプリタイトル** | 「セキュレアシティ」 | ✅ |
| **言語切替ボタン** | JA / EN / CN | ✅ |

### デザイン仕様

**背景:**
- 背景色: `#ffffff` (白)
- 下ボーダー: `1px solid #e5e7eb`

**アプリタイトル:**
- フォントサイズ: 16px
- フォントウェイト: 600 (Semibold)
- 文字色: `#1f2937`
- 配置: 左寄せ

**言語切替ボタン:**
- 背景色: `#f3f4f6` (薄いグレー)
- フォントサイズ: 13px
- フォントウェイト: 500 (Medium)
- 文字色（非選択時）: `#6b7280`
- 文字色（選択時）: `#3b82f6`
- パディング: 4px 10px
- 角丸: 6px
- ボタン間隔: 4px

**ホバー時（PC/タブレット）:**
```css
.lang-btn:hover {
  color: #3b82f6;
}
```

**選択状態:**
```css
.lang-btn--active {
  background: #ffffff;
  color: #3b82f6;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}
```

### レスポンシブ対応

| デバイス | パディング | タイトルサイズ | ボタンサイズ |
|---------|----------|---------------|-------------|
| **PC** | 12px 16px | 16px | 13px |
| **タブレット** | 12px 16px | 16px | 13px |
| **スマートフォン** | 12px 16px | 16px | 13px |

---

## 3.3 コンテンツ領域

### 全体構成

**背景:**
- グラデーション背景
  - 開始色: `#667eea` (紫)
  - 終了色: `#764ba2` (青紫)
  - 方向: 135度（左上から右下）

**カード:**
- 背景色: `#ffffff` (白)
- 角丸: 16px
- 影: `0 2px 8px rgba(0, 0, 0, 0.1)`
- 最大幅: 380px
- パディング: 40px 32px

### タイトル・サブタイトル

**サブタイトル:**
- テキスト: 「ご入居者様専用WEBサイト」
- フォントサイズ: 13px
- 文字色: `#6b7280`
- 配置: 中央寄せ

**タイトル:**
- テキスト: 「Smart Community」
- フォントサイズ: 28px
- フォントウェイト: 700 (Bold)
- 文字色: `#7c3aed` (紫)
- 配置: 中央寄せ
- レタースペーシング: -0.5px

**セクションタイトル:**
- テキスト: 「ログイン」
- フォントサイズ: 18px
- フォントウェイト: 600 (Semibold)
- 文字色: `#1f2937`
- 配置: 中央寄せ

### 多言語対応

| 言語 | サブタイトル | タイトル | セクションタイトル |
|------|-------------|---------|-------------------|
| **日本語(JA)** | ご入居者様専用WEBサイト | Smart Community | ログイン |
| **英語(EN)** | Resident Portal | Smart Community | Login |
| **中国語(CN)** | 居民专用网站 | Smart Community | 登录 |

---

## 3.4 入力フォーム

### フォーム構成

```
┌─────────────────────────────────┐
│  メールアドレス                  │
│  ┌─────────────────────────┐    │
│  │ demo@securea-city.jp    │    │
│  └─────────────────────────┘    │
│                                 │
│  テナントID                      │
│  ┌─────────────────────────┐    │
│  │ TKSC01                  │    │
│  └─────────────────────────┘    │
│                                 │
│  ┌─────────────────────────┐    │
│  │  ログインリンクを送信     │    │
│  └─────────────────────────┘    │
└─────────────────────────────────┘
```

---

## 3.5 入力項目の詳細仕様

### メールアドレス

**項目情報:**
| 項目 | 仕様 |
|------|------|
| **フィールド名** | email |
| **ラベル** | メールアドレス |
| **type** | email |
| **必須** | ✅ Yes |
| **プレースホルダー** | demo@securea-city.jp |
| **最大文字数** | 255文字 |

**バリデーション:**
- 必須入力チェック
- メール形式チェック（RFC 5322準拠）
- 最大文字数チェック（255文字）

**正規表現例:**
```javascript
const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
```

**エラーメッセージ:**
| エラー | 日本語 | 英語 | 中国語 |
|--------|--------|------|--------|
| 必須エラー | メールアドレスを入力してください | Please enter your email address | 请输入电子邮件地址 |
| 形式エラー | 正しいメールアドレスを入力してください | Please enter a valid email address | 请输入有效的电子邮件地址 |
| 文字数超過 | メールアドレスが長すぎます（255文字以内） | Email address is too long (max 255 characters) | 电子邮件地址过长（最多255个字符） |

---

### テナントID

**項目情報:**
| 項目 | 仕様 |
|------|------|
| **フィールド名** | tenantId |
| **ラベル** | テナントID |
| **type** | text |
| **必須** | ✅ Yes |
| **プレースホルダー** | TKSC01 |
| **文字数** | 6文字固定 |
| **形式** | AABB99（英字大文字4桁 + 数字2桁） |

**入力制御:**
- 大文字自動変換（小文字入力時）
- 半角英数字のみ許可
- 6文字入力でフォーカス自動移動（オプション）

**バリデーション:**
- 必須入力チェック
- 文字数チェック（6文字固定）
- 形式チェック（AABB99）
- テナントマスタ存在チェック（サーバー側）

**正規表現:**
```javascript
const tenantIdRegex = /^[A-Z]{4}[0-9]{2}$/;
```

**入力例・ガイド:**
```
プレースホルダー: TKSC01
ヘルプテキスト: 英字大文字4桁 + 数字2桁（例: TKSC01）
```

**エラーメッセージ:**
| エラー | 日本語 | 英語 | 中国語 |
|--------|--------|------|--------|
| 必須エラー | テナントIDを入力してください | Please enter tenant ID | 请输入租户ID |
| 形式エラー | テナントIDの形式が正しくありません（英字大文字4桁+数字2桁） | Invalid tenant ID format (4 letters + 2 digits) | 租户ID格式不正确（4个字母+2个数字） |
| 文字数エラー | テナントIDは6文字です | Tenant ID must be 6 characters | 租户ID必须为6个字符 |
| 存在エラー | テナントIDが見つかりません | Tenant ID not found | 找不到租户ID |

---

### 送信ボタン

**ボタン仕様:**
| 項目 | 仕様 |
|------|------|
| **ラベル** | ログインリンクを送信 |
| **type** | submit |
| **背景色** | `#3b82f6` (青) |
| **文字色** | `#ffffff` (白) |
| **幅** | 100% |
| **高さ** | 48px (パディング: 14px) |
| **角丸** | 6px |
| **フォントサイズ** | 15px |
| **フォントウェイト** | 600 (Semibold) |

**ホバー時（PC/タブレット）:**
```css
.btn-submit:hover {
  background: #2563eb;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
  transition: all 0.2s;
}
```

**アクティブ時（クリック）:**
```css
.btn-submit:active {
  transform: translateY(0);
}
```

**無効状態:**
```css
.btn-submit:disabled {
  background: #9ca3af;
  cursor: not-allowed;
  opacity: 0.6;
}
```

**ローディング状態:**
- ボタンを無効化
- ローディングアイコン（スピナー）を表示
- テキスト: 「送信中...」

**多言語対応:**
| 言語 | ボタンラベル | 送信中 |
|------|-------------|--------|
| **日本語(JA)** | ログインリンクを送信 | 送信中... |
| **英語(EN)** | Send Login Link | Sending... |
| **中国語(CN)** | 发送登录链接 | 发送中... |

---

## 3.6 デザイン仕様

### カラーパレット

| 用途 | カラーコード | 説明 |
|------|-------------|------|
| **Primary** | `#3b82f6` | ボタン、リンク |
| **Primary Hover** | `#2563eb` | ボタンホバー時 |
| **Accent** | `#7c3aed` | タイトル強調 |
| **Text Primary** | `#1f2937` | メインテキスト |
| **Text Secondary** | `#6b7280` | サブテキスト |
| **Border** | `#d1d5db` | 入力フィールド枠線 |
| **Border Focus** | `#3b82f6` | 入力フィールドフォーカス時 |
| **Background** | `#f9fafb` | コンテンツ背景 |
| **Card** | `#ffffff` | カード背景 |
| **Error** | `#ef4444` | エラーメッセージ |

### タイポグラフィ

**フォントファミリー:**
```css
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 
             Roboto, 'Helvetica Neue', Arial, sans-serif;
```

**フォントサイズ:**
| 要素 | サイズ | ウェイト |
|------|-------|---------|
| タイトル | 28px | 700 |
| セクションタイトル | 18px | 600 |
| サブタイトル | 13px | 400 |
| ラベル | 14px | 500 |
| 入力値 | 14px | 400 |
| ボタン | 15px | 600 |

### スペーシング

**カード内:**
- パディング: 40px 32px（PC）、32px 24px（モバイル）
- タイトル下マージン: 24px
- フォームグループ間: 20px
- ボタン上マージン: 24px

**入力フィールド:**
- パディング: 12px 16px
- ラベル下マージン: 8px

---

## 3.7 入力フィールドのデザイン

### 通常状態

```css
.form-input {
  width: 100%;
  padding: 12px 16px;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  font-size: 14px;
  color: #1f2937;
  transition: all 0.2s;
}
```

### フォーカス状態

```css
.form-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}
```

### エラー状態

```css
.form-input--error {
  border-color: #ef4444;
}

.form-input--error:focus {
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}
```

### エラーメッセージ

```css
.error-message {
  color: #ef4444;
  font-size: 13px;
  margin-top: 4px;
}
```

---

## 3.8 フッター領域

### 構成要素

**リンク:**
- 利用規約
- プライバシーポリシー
- お問い合わせ

**コピーライト:**
- © 2025 SECUREA City. All rights reserved.

### デザイン仕様

**背景:**
- 背景色: `#ffffff` (白)
- 上ボーダー: `1px solid #e5e7eb`

**リンク:**
- フォントサイズ: 12px
- 文字色: `#3b82f6`
- テキスト装飾: なし
- ホバー時: 下線表示

**コピーライト:**
- フォントサイズ: 12px
- 文字色: `#9ca3af`

**レイアウト:**
- パディング: 16px 24px
- テキスト配置: 中央寄せ
- リンク間セパレーター: "|"

### 多言語対応

| 言語 | 利用規約 | プライバシーポリシー | お問い合わせ |
|------|---------|-------------------|-------------|
| **日本語(JA)** | 利用規約 | プライバシーポリシー | お問い合わせ |
| **英語(EN)** | Terms of Service | Privacy Policy | Contact |
| **中国語(CN)** | 使用条款 | 隐私政策 | 联系我们 |

---

## 3.9 レスポンシブ対応

### ブレークポイント

| デバイス | 幅 | 調整内容 |
|---------|-----|---------|
| **PC** | > 768px | デフォルト |
| **タブレット** | 768px | カード幅調整 |
| **スマートフォン** | < 768px | パディング縮小、フォントサイズ調整 |

### スマートフォン最適化

**カード:**
- パディング: 32px 24px（40px 32pxから縮小）

**タイトル:**
- フォントサイズ: 24px（28pxから縮小）

**入力フィールド:**
- タップ領域確保（最小44px高さ）
- フォントサイズ: 16px（iOS自動ズーム防止）

---

## 3.10 アクセシビリティ

### セマンティックHTML

```html
<main class="page-content">
  <div class="login-card">
    <header class="login-card__header">
      <h2>ログイン</h2>
    </header>
    
    <form id="loginForm" aria-label="ログインフォーム">
      <div class="form-group">
        <label for="email">メールアドレス</label>
        <input 
          type="email" 
          id="email" 
          name="email"
          required
          aria-required="true"
          aria-describedby="email-error"
        >
        <span id="email-error" class="error-message" role="alert"></span>
      </div>
      
      <div class="form-group">
        <label for="tenantId">テナントID</label>
        <input 
          type="text" 
          id="tenantId" 
          name="tenantId"
          required
          aria-required="true"
          aria-describedby="tenantId-error"
        >
        <span id="tenantId-error" class="error-message" role="alert"></span>
      </div>
      
      <button type="submit" class="btn-submit">
        ログインリンクを送信
      </button>
    </form>
  </div>
</main>
```

### キーボードナビゲーション

**Tab順序:**
1. 言語切替ボタン（JA）
2. 言語切替ボタン（EN）
3. 言語切替ボタン（CN）
4. メールアドレス入力
5. テナントID入力
6. 送信ボタン
7. フッターリンク（利用規約）
8. フッターリンク（プライバシーポリシー）
9. フッターリンク（お問い合わせ）

**Enter キー:**
- フォーム内でEnterキー押下 → 送信

**Escapeキー:**
- エラーメッセージ表示時 → エラー非表示

### フォーカスインジケーター

```css
.form-input:focus,
.btn-submit:focus {
  outline: 3px solid #3b82f6;
  outline-offset: 2px;
}
```

### コントラスト比

**WCAG 2.1 Level AA準拠:**
- テキストとバックグラウンド: 4.5:1以上
- ボタンテキスト: 4.5:1以上
- エラーメッセージ: 4.5:1以上

---

**[← 前の章: 第2章 認証フローと画面構成](login-feature-design-v1_0-ch02.md)**

**[次の章へ: 第4章 メール送信完了画面詳細 →](login-feature-design-v1_0-ch04.md)**

**[目次に戻る ↑](login-feature-design-v1_0-index.md)**
