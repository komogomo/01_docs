HarmoNet Phase 7 — 非機能設計方針（最終稿）
1. 継続的インテグレーション／デリバリー（CI/CD）検討結果
検討背景

開発効率と品質維持を目的に、Jenkins・GitHub Actions 等を利用した
CI/CD（継続的インテグレーション／継続的デリバリー）導入を検討した。

検討内容

自動ビルド／自動デプロイの仕組み（Jenkins + Maven 連携）

自動テスト（E2E / UI / API）の実行連携

AI監査ライン（Claude・Gemini・Tachikoma）による構造・整合性検証との比較

検討結果

HarmoNet は参照主体アプリであり、利用頻度および更新頻度が低く、
サービス停止による影響が限定的であるため、
常時統合・自動デプロイのコストメリットは小さいと判断した。

また、実際の運用環境においては、

Jenkins/Maven 環境の維持管理コストが高い

自動テストシナリオの保守負荷が大きい

実運用で発生する確認作業（UI・翻訳・PDF表示など）は人間確認が中心

以上を踏まえ、現時点でのCI/CD導入は行わず、
構想段階に留め、AI監査ラインによる品質保証で代替する。

方針

CI/CD：導入構想のみ（Phase 7構想に記録）

品質維持：AI監査ライン（Claude・Gemini・Tachikoma）による整合性検証で代替

再検討タイミング：Phase 9（機能拡張フェーズ）以降に再評価

2. サービス可用性（SLA）
定義

可用性（SLA）は、利用者体験を損なわない範囲での安定稼働を目的とし、
冗長構成や24/7無停止運用は実施しない。

| 項目           | 定義値          | 備考                          |
| ------------ | ------------ | --------------------------- |
| **可用性（SLA）** | 95〜97%       | 計画停止（メンテナンス）を除外し、夜間帯での更新を許容 |
| **計画停止の扱い**  | SLA算定対象外     | メンテナンスおよび更新を定期的に実施          |
| **障害対応時間**   | 原則、翌営業日対応    | 夜間・休日対応は行わない                |
| **目的**       | 安定運用と運用負荷の低減 | 住民利用に支障のないレベルを維持            |

理由

住民向けアプリであり、社会的クリティカル性が低い

障害発生時も「閲覧・投稿の一時停止」に留まり、実害が発生しない

管理組合運用を優先し、保守コストを最小化する方針

3. データ保護設計（RPO / RTO）
定義
| 指標                                | 定義値                    | 説明                   |
| --------------------------------- | ---------------------- | -------------------- |
| **RPO（Recovery Point Objective）** | 前日バックアップまで（最大24時間損失許容） | データ損失発生時は前日状態まで復旧可能  |
| **RTO（Recovery Time Objective）**  | 最大2営業日                 | 障害発生後、2営業日以内に復旧完了を目標 |

運用方針

自動日次バックアップ＋週次手動バックアップを実施

保存期間は30日を標準とし、ローテーション運用

復旧手順：DBリストア＋オブジェクトストレージ再同期

AI監査ラインによりバックアップ検証の自動報告を行う

理由

投稿・返信等の入力頻度が低く、再投稿による代替が可能

サービス停止やデータ損失が住民生活に直接的影響を与えない

運用コストと信頼性のバランスを最優先とする

4. 品質保証方針
方針概要

自動テストの全面導入は行わず、AIによる試験観点設計・網羅性補完を中心とする

人間による動作確認を主軸とし、AI監査が整合性・差分確認を補助する

CI/CDによる自動化ではなく、AIによる知的品質保証を採用

理由

自動テストの保守負荷が高く、改修確認の網羅性に限界がある

AI監査による構造・参照整合性確認で十分な品質を確保できる

本システムの目的は「堅牢性」ではなく「利便性」と「安心感」である

5. 要約
| 区分      | 方針                   | 理由               |
| ------- | -------------------- | ---------------- |
| CI/CD   | 構想段階に留める             | 運用負荷とコストメリットの不均衡 |
| SLA     | 95〜97%（計画停止除外）       | 利用頻度・重要度に応じた適正水準 |
| RPO/RTO | RPO: 24h / RTO: 2営業日 | データ損失・復旧影響が軽微なため |
| 品質保証    | AI監査ライン中心            | テスト自動化より整合性確認を優先 |

6. メタ情報
| 項目               | 値                           |
| ---------------- | --------------------------- |
| **Document ID**  | HNM-NFR-PHASE7-20251102     |
| **Version**      | 1.0                         |
| **Phase**        | 7（非機能設計確定版）                 |
| **Author**       | タチコマ（HarmoNet AI Architect） |
| **Reviewer**     | Claude（Design Specialist）   |
| **Approver**     | TKD（Project Owner）          |
| **Created**      | 2025-11-02                  |
| **Last Updated** | 2025-11-02                  |
| **Status**       | ✅ 承認済（実装反映可）                |
