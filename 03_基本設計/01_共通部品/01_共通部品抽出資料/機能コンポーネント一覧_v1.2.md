# HarmoNet コンポーネント定義一覧 v1.3

作成目的：設計書作成の元データ（画面→機能→最小コンポーネント）  
注記：規模=S/M/L、難易度=1(容易)〜5(最難関・非機能寄り)、安全ステップ数=AI実装の推奨往復回数

---

## 1. 共通部品（非機能含む）

| ID   | 画面名  | 機能名             | コンポーネント名             | 規模 | 難易度 | 安全ステップ数 | 備考                                      |
| ---- | ---- | --------------- | -------------------- | -- | --- | ------- | --------------------------------------- |
| C-01 | 共通部品 | 画面ヘッダー          | AppHeader            | S  | 2   | 3       | ロゴ/ナビ/状態表示                              |
| C-02 | 共通部品 | 言語切替（静的翻訳）      | LanguageSwitch       | S  | 3   | 4       | StaticI18nProvider経由でロケール切替、UIのみ        |
| C-03 | 共通部品 | 静的翻訳ローダ         | StaticI18nProvider   | S  | 3   | 4       | ルートで辞書注入、missing key/ロード失敗時にログ出力 |
| C-04 | 共通部品 | 画面フッター          | AppFooter            | S  | 1   | 2       | コピーライト                                  |
| C-05 | 共通部品 | 画面ショートカット       | FooterShortcutBar    | S  | 3   | 4       | 権限別ショートカット表示                            |
| C-06 | 共通部品 | 添付アップロード        | AttachmentUploader   | M  | 4   | 5       | 受入MIME/サイズ/複数                           |
| C-07 | 共通部品 | エディタラッパ         | EditorWrapper        | M  | 3   | 4       | Markdown/WYSIWYG抽象化                     |
| C-08 | 共通部品 | 投稿確認ダイアログ       | PostConfirmDialog    | S  | 2   | 3       | 投稿/アンケ共用                                |
| C-09 | 共通部品 | 翻訳リンク           | TranslateButton      | S  | 2   | 3       | 押下で翻訳要求                                 |
| C-10 | 共通部品 | 動的翻訳            | DynamicTranslator    | M  | 4   | 5       | 翻訳API統合                                 |
| C-11 | 共通部品 | 翻訳キャッシュ         | TranslationCache     | M  | 4   | 5       | Supabase/Redis、RLS分離                    |
| C-12 | 共通部品 | 音声読み上げ          | VoiceReader          | M  | 4   | 5       | VoiceVox/音声キャッシュ                        |
| C-13 | 共通部品 | グローバル例外         | AppErrorBoundary     | M  | 4   | 5       | 画面全体例外捕捉（致命的なレンダリングエラー用の最低限 Boundary） |
| C-14 | 共通部品 | アラート表示          | ErrorAlert           | S  | 2   | 3       | 翻訳対応メッセージ（画面内のシンプルなアラート表示）        |
| C-15 | 共通部品 | フィールドエラー        | InlineFieldError     | S  | 2   | 3       | 入力直下表示                                  |
| C-18 | 共通部品 | ロギングサービス        | ErrorLoggerService   | M  | 3   | 4       | 共通ログユーティリティ（consoleベースJSONログ、auth/i18nイベント） |
| C-20 | 共通部品 | 翻訳/音声共通設定       | AccessibilityConfig  | S  | 3   | 3       | 翻訳/音声の既定設定・アクセシビリティ                     |

> 変更点：
> - C-16（ErrorHandlerProvider）、C-17（useErrorHandler）、C-19（ErrorToastDispatcher）は削除。  
>   - 理由：外部監視・通知インフラと誤解されやすく、現状方針（各画面で完結するシンプルなエラー処理＋バナー／インライン表示）に対して過剰。  
>   - 画面ごとのエラー表示は、`AuthErrorBanner` や `InlineFieldError` 等、機能固有コンポーネントで扱う。

---

## 2. 機能固有（53件）

### 2.1 ログイン

| ID   | 画面名  | 機能名        | コンポーネント名             | 規模 | 難易度 | 安全ステップ数 | 備考                    |
| ---- | ---- | ---------- | -------------------- | -- | --- | ------- | --------------------- |
| A-01 | ログイン | Magic Link | MagicLinkForm        | M  | 3   | 4       | signInWithOtp、成功/失敗UI＋ログ連携 |
| A-02 | ログイン | Passkey    | PasskeyButton        | S  | 3   | 3       | WebAuthn呼出し、Passkeyログ連携      |
| A-03 | ログイン | コールバック     | AuthCallbackHandler  | S  | 4   | 4       | トークン検証/復帰             |
| A-04 | ログイン | ローディング     | AuthLoadingIndicator | S  | 1   | 2       | 非同期中表示                |
| A-05 | ログイン | エラー表示      | AuthErrorBanner      | S  | 1   | 2       | 人間可読化（画面内バナー表示）      |

### 2.2 掲示板（一覧・詳細・投稿）

| ID   | 画面名   | 機能名      | コンポーネント名        | 規模 | 難易度 | 安全ステップ数 | 備考        |
| ---- | ----- | -------- | --------------- | -- | --- | ------- | --------- |
| B-01 | 掲示板一覧 | 一覧取得/表示  | PostList        | M  | 3   | 4       | ページング/タグ  |
| B-02 | 掲示板一覧 | 投稿カード    | PostItem        | S  | 2   | 3       | 概要表示      |
| B-03 | 掲示板一覧 | タグフィルタ   | TagFilterBar    | S  | 2   | 3       | URL同期     |
| B-04 | 掲示板詳細 | 本文表示     | PostDetail      | M  | 4   | 5       | 翻訳/音声共通利用 |
| B-05 | 掲示板詳細 | 添付一覧     | AttachmentList  | S  | 2   | 3       | PDF/画像等   |
| B-06 | 掲示板詳細 | 翻訳ボタン    | DetailTranslate | S  | 2   | 3       | PostDetail連携 |
| B-07 | 掲示板投稿 | 投稿フォーム   | PostEditor      | M  | 3   | 4       | EditorWrapper利用 |
| B-08 | 掲示板投稿 | 添付アップロード | PostAttachArea  | M  | 3   | 4       | AttachmentUploader連携 |

（※以降の B 系／他画面コンポーネントは元の v1.2 と同一。必要なら続きもそのまま流用。）

