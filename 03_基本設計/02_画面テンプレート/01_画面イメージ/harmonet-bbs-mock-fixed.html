<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HarmoNet Êé≤Á§∫Êùø„É¢„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // ============ SVG Icons ============
        const Plus = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        );
        
        const ChevronLeft = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
        );
        
        const Paperclip = () => (
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
            </svg>
        );
        
        const Languages = ({ className }) => (
            <svg className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M5 8l6 6"></path>
                <path d="M4 14l6-6 2-3"></path>
                <path d="M2 5h12"></path>
                <path d="M7 2h1"></path>
                <path d="M22 22l-5-10-5 10"></path>
                <path d="M14 18h6"></path>
            </svg>
        );
        
        const Volume2 = ({ className }) => (
            <svg className={className} width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
            </svg>
        );
        
        const Home = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
        );
        
        const MessageSquare = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
        );
        
        const Calendar = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        );
        
        const User = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
        );
        
        const LogOut = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16 17 21 12 16 7"></polyline>
                <line x1="21" y1="12" x2="9" y2="12"></line>
            </svg>
        );
        
        const FileText = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
            </svg>
        );

        // ============ Main App Component ============
        const HarmoNetBBSMock = () => {
            const [currentScreen, setCurrentScreen] = useState('top');
            const [selectedPostId, setSelectedPostId] = useState(null);
            const [language, setLanguage] = useState('JA');
            const [favorites, setFavorites] = useState(['1', '3']);
            const [posts, setPosts] = useState([
                {
                    id: '1',
                    category: 'ÈáçË¶Å',
                    authorType: 'ÁÆ°ÁêÜÁµÑÂêà',
                    targetLabel: 'ÂÖ®‰ΩìÂêë„Åë',
                    title: '„ÄêÈáçË¶Å„ÄëÂÆöÊúüÁ∑è‰ºö„ÅÆ„ÅäÁü•„Çâ„Åõ',
                    body: '2025Âπ¥12Êúà15Êó•ÔºàÊó•Ôºâ10:00„Çà„Çä„ÄÅÈõÜ‰ºöÂÆ§„Å´„Å¶ÂÆöÊúüÁ∑è‰ºö„ÇíÈñãÂÇ¨„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ\n\nÂá∫Â∏≠ËÄÖ„ÅÆÁ¢∫Ë™ç„Çí„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇÂΩìÊó•„ÅîÂá∫Â∏≠„ÅÑ„Åü„Å†„Åë„Å™„ÅÑÂ†¥Âêà„ÅØ„ÄÅÂßî‰ªªÁä∂„ÅÆÊèêÂá∫„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ\n\n„ÄêË≠∞È°å„Äë\n1. 2024Âπ¥Â∫¶Ê¥ªÂãïÂ†±Âëä\n2. 2024Âπ¥Â∫¶Ê±∫ÁÆóÂ†±Âëä\n3. 2025Âπ¥Â∫¶Ê¥ªÂãïË®àÁîªÊ°à\n4. 2025Âπ¥Â∫¶‰∫àÁÆóÊ°à\n5. „Åù„ÅÆ‰ªñ',
                    createdAt: '2025/11/21 10:30',
                    hasAttachment: true,
                    attachments: [{ id: 'a1', name: 'ÂÆöÊúüÁ∑è‰ºö_Ë≠∞Ê°àÊõ∏.pdf' }],
                    replies: [
                        { id: 'r1', displayName: 'ÂåøÂêç', body: 'Âá∫Â∏≠‰∫àÂÆö„Åß„Åô„ÄÇ„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ', createdAt: '2025/11/21 11:00' }
                    ]
                },
                {
                    id: '2',
                    category: '„ÅäÁü•„Çâ„Åõ',
                    authorType: 'ÁÆ°ÁêÜÁµÑÂêà',
                    targetLabel: 'Âåó-A„Ç∞„É´„Éº„ÉóÂêë„Åë',
                    title: 'ÈßêËº™Â†¥„ÅÆÂà©Áî®„É´„Éº„É´„Å´„Å§„ÅÑ„Å¶',
                    body: 'ÈßêËº™Â†¥„ÅÆÊï¥ÁêÜÊï¥È†ì„Å´„ÅîÂçîÂäõ„Åè„Å†„Åï„ÅÑ„ÄÇËá™Ëª¢Ëªä„ÅØÊåáÂÆö„ÅÆÂ†¥ÊâÄ„Å´ÂÅú„ÇÅ„Å¶„ÅÑ„Åü„Å†„Åç„Åæ„Åô„Çà„ÅÜ„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ',
                    createdAt: '2025/11/20 14:15',
                    hasAttachment: false,
                    attachments: [],
                    replies: []
                },
                {
                    id: '3',
                    category: '„ÅäÁü•„Çâ„Åõ',
                    authorType: 'Èò≤ÁÅΩÂßîÂì°‰ºö',
                    targetLabel: 'ÂÖ®‰ΩìÂêë„Åë',
                    title: 'Èò≤ÁÅΩË®ìÁ∑¥„ÅÆ„ÅîÊ°àÂÜÖ',
                    body: '2025Âπ¥11Êúà30Êó•ÔºàÂúüÔºâ9:00„Çà„Çä„ÄÅÈò≤ÁÅΩË®ìÁ∑¥„ÇíÂÆüÊñΩ„Åó„Åæ„Åô„ÄÇÂÖ®‰∏ñÂ∏Ø„ÅÆ„ÅîÂèÇÂä†„Çí„ÅäÈ°ò„ÅÑ„ÅÑ„Åü„Åó„Åæ„Åô„ÄÇ',
                    createdAt: '2025/11/19 16:45',
                    hasAttachment: true,
                    attachments: [{ id: 'a2', name: 'Èò≤ÁÅΩË®ìÁ∑¥ÂÆüÊñΩË¶ÅÈ†Ö.pdf' }],
                    replies: [
                        { id: 'r2', displayName: 'ÂåøÂêç', body: 'ÂèÇÂä†„Åó„Åæ„Åô„ÄÇ', createdAt: '2025/11/19 17:00' }
                    ]
                },
                {
                    id: '4',
                    category: '„É´„Éº„É´',
                    authorType: 'ÁÆ°ÁêÜÁµÑÂêà',
                    targetLabel: 'ÂÖ®‰ΩìÂêë„Åë',
                    title: '„Ç¥„ÉüÂá∫„Åó„É´„Éº„É´„ÅÆÂÜçÁ¢∫Ë™ç',
                    body: 'ÊúÄËøë„ÄÅ„Ç¥„Éü„ÅÆÂàÜÂà•„ÅåÂÆà„Çâ„Çå„Å¶„ÅÑ„Å™„ÅÑ„Ç±„Éº„Çπ„ÅåË¶ãÂèó„Åë„Çâ„Çå„Åæ„Åô„ÄÇ„É´„Éº„É´„ÅÆÂÜçÁ¢∫Ë™ç„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ',
                    createdAt: '2025/11/18 10:00',
                    hasAttachment: true,
                    attachments: [{ id: 'a3', name: '„Ç¥„ÉüÂàÜÂà•„Ç¨„Ç§„Éâ.pdf' }],
                    replies: []
                },
                {
                    id: '5',
                    category: '„Ç∞„É´„Éº„Éó',
                    authorType: '‰∏ÄËà¨Âà©Áî®ËÄÖ',
                    targetLabel: 'Âåó-B„Ç∞„É´„Éº„ÉóÂêë„Åë',
                    title: 'ÊááË¶™‰ºö„ÅÆ„ÅîÊ°àÂÜÖ',
                    body: 'Âåó-B„Ç∞„É´„Éº„Éó„ÅÆÁöÜ„Åï„Åæ„ÅßÊááË¶™‰ºö„ÇíÈñãÂÇ¨„Åó„Åü„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ„ÅîÂèÇÂä†„ÅäÂæÖ„Å°„Åó„Å¶„Åä„Çä„Åæ„Åô„ÄÇ',
                    createdAt: '2025/11/17 18:20',
                    hasAttachment: false,
                    attachments: [],
                    replies: []
                }
            ]);

            const goToTop = () => {
                setCurrentScreen('top');
                setSelectedPostId(null);
            };

            const goToDetail = (postId) => {
                setSelectedPostId(postId);
                setCurrentScreen('detail');
            };

            const goToNew = () => {
                setCurrentScreen('new');
            };

            const toggleFavorite = (postId) => {
                setFavorites(prev =>
                    prev.includes(postId)
                        ? prev.filter(id => id !== postId)
                        : [...prev, postId]
                );
            };

            const addPost = (newPost) => {
                setPosts([newPost, ...posts]);
                goToTop();
            };

            const addReply = (postId, reply) => {
                setPosts(posts.map(p => 
                    p.id === postId 
                        ? { ...p, replies: [reply, ...p.replies] }
                        : p
                ));
            };

            const selectedPost = posts.find(p => p.id === selectedPostId);

            return (
                <div className="min-h-screen bg-gray-50 flex flex-col">
                    <header className="bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between sticky top-0 z-20">
                        <div className="flex items-center gap-2">
                            <div className="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg"></div>
                            <span className="font-bold text-lg">HarmoNET</span>
                        </div>
                        <div className="flex gap-2">
                            {['JA', 'EN', 'ZH'].map(lang => (
                                <button
                                    key={lang}
                                    onClick={() => setLanguage(lang)}
                                    className={`px-3 py-1 rounded-lg text-sm transition-colors ${
                                        language === lang
                                            ? 'bg-blue-500 text-white'
                                            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                    }`}
                                >
                                    {lang}
                                </button>
                            ))}
                        </div>
                    </header>

                    <main className="flex-1 pb-20">
                        {currentScreen === 'top' && (
                            <BoardTop posts={posts} goToDetail={goToDetail} favorites={favorites} toggleFavorite={toggleFavorite} />
                        )}
                        {currentScreen === 'detail' && selectedPost && (
                            <BoardDetail post={selectedPost} goToTop={goToTop} addReply={addReply} />
                        )}
                        {currentScreen === 'new' && (
                            <NewPostForm goToTop={goToTop} addPost={addPost} />
                        )}
                    </main>

                    {currentScreen === 'top' && (
                        <button
                            onClick={goToNew}
                            className="fixed right-6 bottom-24 w-14 h-14 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-all flex items-center justify-center z-30"
                            title="Êñ∞Ë¶èÊäïÁ®ø"
                        >
                            <Plus />
                        </button>
                    )}

                    <footer className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-20">
                        <div className="flex justify-around items-center py-2">
                            <button className="flex flex-col items-center gap-1 p-2 text-gray-600 hover:text-blue-500">
                                <Home />
                                <span className="text-xs">„Éõ„Éº„É†</span>
                            </button>
                            <button 
                                onClick={goToTop}
                                className="flex flex-col items-center gap-1 p-2 text-blue-500"
                            >
                                <MessageSquare />
                                <span className="text-xs">Êé≤Á§∫Êùø</span>
                            </button>
                            <button className="flex flex-col items-center gap-1 p-2 text-gray-600 hover:text-blue-500">
                                <Calendar />
                                <span className="text-xs">ÊñΩË®≠‰∫àÁ¥Ñ</span>
                            </button>
                            <button className="flex flex-col items-center gap-1 p-2 text-gray-600 hover:text-blue-500">
                                <User />
                                <span className="text-xs">„Éû„Ç§„Éö„Éº„Ç∏</span>
                            </button>
                            <button className="flex flex-col items-center gap-1 p-2 text-gray-600 hover:text-blue-500">
                                <LogOut />
                                <span className="text-xs">„É≠„Ç∞„Ç¢„Ç¶„Éà</span>
                            </button>
                        </div>
                    </footer>
                </div>
            );
        };

        // ============ Board Top Component ============
        const BoardTop = ({ posts, goToDetail, favorites, toggleFavorite }) => {
            const [selectedFilters, setSelectedFilters] = useState(['all']);

            const filters = [
                { id: 'all', label: '„Åô„Åπ„Å¶' },
                { id: 'circular', label: 'ÂõûË¶ßÊùø' },
                { id: 'group', label: '„Ç∞„É´„Éº„Éó' },
                { id: 'rule', label: '„É´„Éº„É´' },
                { id: 'favorite', label: '‚≠êÔ∏è', icon: true }
            ];

            const handleFilterClick = (filterId) => {
                if (filterId === 'all') {
                    setSelectedFilters(['all']);
                } else {
                    const newFilters = selectedFilters.filter(f => f !== 'all');
                    if (newFilters.includes(filterId)) {
                        const updated = newFilters.filter(f => f !== filterId);
                        setSelectedFilters(updated.length === 0 ? ['all'] : updated);
                    } else {
                        setSelectedFilters([...newFilters, filterId]);
                    }
                }
            };

            const Star = ({ filled }) => (
                <svg width="20" height="20" viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2">
                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                </svg>
            );

            return (
                <div>
                    <div className="sticky top-[57px] bg-white border-b border-gray-200 px-4 py-3 overflow-x-auto z-10">
                        <div className="flex gap-2 min-w-max">
                            {filters.map(filter => (
                                <button
                                    key={filter.id}
                                    onClick={() => handleFilterClick(filter.id)}
                                    className={`px-4 py-1.5 rounded-full text-sm whitespace-nowrap transition-all ${
                                        selectedFilters.includes(filter.id)
                                            ? 'bg-blue-500 text-white border-2 border-blue-500'
                                            : 'bg-white text-gray-700 border-2 border-gray-300 hover:border-gray-400'
                                    }`}
                                >
                                    {filter.label}
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="px-4 py-6">
                        <div className="space-y-4 mb-6">
                            {posts.map(post => (
                                <div
                                    key={post.id}
                                    className="bg-white border border-gray-200 rounded-2xl p-4 hover:bg-gray-50 transition-colors cursor-pointer relative"
                                >
                                    <div className="absolute top-4 right-4 flex items-center gap-2">
                                        <button
                                            onClick={(e) => {
                                                e.stopPropagation();
                                                toggleFavorite(post.id);
                                            }}
                                            className="p-1 hover:bg-gray-100 rounded transition-colors"
                                        >
                                            <Star filled={favorites.includes(post.id)} />
                                        </button>
                                        {post.hasAttachment && (
                                            <Paperclip />
                                        )}
                                    </div>
                                    
                                    <div onClick={() => goToDetail(post.id)}>
                                        <span className="inline-block px-3 py-1 bg-red-100 text-red-700 text-xs rounded-full mb-2">
                                            {post.category}
                                        </span>
                                        
                                        <h2 className="font-bold text-base mb-2 pr-16">
                                            {post.title}
                                        </h2>
                                        
                                        <div className="flex items-center justify-between text-xs text-gray-500">
                                            <span>{post.authorType}</span>
                                            <span>{post.createdAt}</span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>

                        <div className="flex items-center justify-center gap-3 flex-wrap bg-white border border-gray-200 rounded-xl p-4">
                            <div className="flex items-center gap-2">
                                <select className="px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white">
                                    <option>10‰ª∂</option>
                                    <option>25‰ª∂</option>
                                    <option>50‰ª∂</option>
                                </select>
                                <span className="text-sm text-gray-600">Ë°®Á§∫‰∏≠</span>
                            </div>

                            <div className="flex items-center gap-2">
                                <button className="w-8 h-8 flex items-center justify-center border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                                    ‚Äπ‚Äπ
                                </button>
                                <button className="w-8 h-8 flex items-center justify-center border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                                    ‚Äπ
                                </button>
                                <span className="px-4 text-sm text-gray-600">1 / 1</span>
                                <button className="w-8 h-8 flex items-center justify-center border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                                    ‚Ä∫
                                </button>
                                <button className="w-8 h-8 flex items-center justify-center border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                                    ‚Ä∫‚Ä∫
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // ============ Board Detail Component ============
        const BoardDetail = ({ post, goToTop, addReply }) => {
            const [replyText, setReplyText] = useState('');
            const [showTranslation, setShowTranslation] = useState(false);

            const handleSubmitReply = () => {
                if (replyText.trim()) {
                    const newReply = {
                        id: `r${Date.now()}`,
                        displayName: 'ÂåøÂêç',
                        body: replyText,
                        createdAt: new Date().toLocaleString('ja-JP', { 
                            year: 'numeric', 
                            month: '2-digit', 
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit'
                        }).replace(/\//g, '/')
                    };
                    addReply(post.id, newReply);
                    setReplyText('');
                }
            };

            return (
                <div className="px-4 py-6">
                    <button
                        onClick={goToTop}
                        className="flex items-center gap-2 text-blue-500 hover:text-blue-600 mb-4"
                    >
                        <ChevronLeft />
                        <span>‰∏ÄË¶ß„Å´Êàª„Çã</span>
                    </button>

                    <div className="bg-white border border-gray-200 rounded-2xl p-6 mb-4">
                        <div className="flex items-start gap-2 mb-4">
                            <span className="inline-block px-3 py-1 bg-red-100 text-red-700 text-xs rounded-full flex-shrink-0">
                                {post.category}
                            </span>
                            <span className="inline-block px-3 py-1 bg-purple-100 text-purple-700 text-xs rounded-full flex-shrink-0">
                                {post.targetLabel}
                            </span>
                        </div>

                        <h1 className="font-bold text-xl mb-4">{post.title}</h1>

                        <div className="flex items-center gap-3 text-sm text-gray-600 mb-6 pb-4 border-b border-gray-200">
                            <span>{post.authorType}</span>
                            <span>‚Ä¢</span>
                            <span>{post.createdAt}</span>
                        </div>

                        <div className="mb-6">
                            <div className="whitespace-pre-wrap text-gray-800 leading-relaxed">
                                {post.body}
                            </div>

                            {showTranslation && (
                                <div className="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                                    <p className="text-sm text-blue-900 whitespace-pre-wrap">
                                        {post.body}
                                        {"\n\n"}(Translation in English will be displayed here)
                                    </p>
                                </div>
                            )}
                        </div>

                        {post.attachments && post.attachments.length > 0 && (
                            <div className="mb-6">
                                <p className="text-sm font-semibold mb-2">Ê∑ª‰ªò„Éï„Ç°„Ç§„É´</p>
                                <div className="space-y-2">
                                    {post.attachments.map(att => (
                                        <div key={att.id} className="flex items-center gap-2 p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer">
                                            <FileText />
                                            <span className="text-sm text-gray-700">{att.name}</span>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        <div className="flex items-center gap-3">
                            <button
                                onClick={() => setShowTranslation(!showTranslation)}
                                className="flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm"
                            >
                                <Languages className="text-white" />
                                <span>{showTranslation ? 'ÂéüÊñáË°®Á§∫' : 'ÁøªË®≥'}</span>
                            </button>
                            <button className="flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm">
                                <Volume2 className="text-white" />
                                <span>Ë™≠„Åø‰∏ä„Åí</span>
                            </button>
                        </div>
                    </div>

                    <div className="bg-white border border-gray-200 rounded-2xl p-6">
                        <h2 className="font-bold text-lg mb-4">Ëøî‰ø° ({post.replies.length}‰ª∂)</h2>

                        <div className="mb-6">
                            <textarea
                                value={replyText}
                                onChange={(e) => setReplyText(e.target.value)}
                                className="w-full px-3 py-2 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"
                                rows="4"
                                placeholder="Ëøî‰ø°„ÇíÂÖ•Âäõ..."
                            />
                            <div className="flex justify-end mt-3">
                                <button
                                    onClick={handleSubmitReply}
                                    disabled={!replyText.trim()}
                                    className="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                                >
                                    Ëøî‰ø°„Åô„Çã
                                </button>
                            </div>
                        </div>

                        <div className="space-y-4">
                            {post.replies.map(reply => (
                                <div key={reply.id} className="border-l-4 border-blue-500 pl-4 py-2">
                                    <div className="flex items-center gap-2 text-sm text-gray-600 mb-2">
                                        <span className="font-semibold">{reply.displayName}</span>
                                        <span>‚Ä¢</span>
                                        <span>{reply.createdAt}</span>
                                    </div>
                                    <p className="text-gray-800">{reply.body}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // ============ New Post Form Component ============
        const NewPostForm = ({ goToTop, addPost }) => {
            const [displayMode, setDisplayMode] = useState('A');
            const [category, setCategory] = useState('ÈáçË¶Å');
            const [title, setTitle] = useState('');
            const [body, setBody] = useState('');
            const [target, setTarget] = useState('all');

            const categories = ['ÈáçË¶Å', '„ÅäÁü•„Çâ„Åõ', '„Ç∞„É´„Éº„Éó', '„É´„Éº„É´'];

            const handleSubmit = () => {
                if (title.trim() && body.trim()) {
                    const newPost = {
                        id: `${Date.now()}`,
                        category,
                        authorType: 'ÁÆ°ÁêÜÁµÑÂêà',
                        targetLabel: target === 'all' ? 'ÂÖ®‰ΩìÂêë„Åë' : 'Âåó-A„Ç∞„É´„Éº„ÉóÂêë„Åë',
                        title,
                        body,
                        createdAt: new Date().toLocaleString('ja-JP', { 
                            year: 'numeric', 
                            month: '2-digit', 
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit'
                        }).replace(/\//g, '/'),
                        hasAttachment: false,
                        attachments: [],
                        replies: []
                    };
                    addPost(newPost);
                }
            };

            return (
                <div className="px-4 py-6">
                    <div className="flex items-center justify-between mb-6">
                        <button
                            onClick={goToTop}
                            className="flex items-center gap-2 text-blue-500 hover:text-blue-600"
                        >
                            <ChevronLeft />
                            <span>Êàª„Çã</span>
                        </button>
                        <h1 className="font-bold text-xl">Êñ∞Ë¶èÊäïÁ®ø</h1>
                        <div className="w-16"></div>
                    </div>

                    <div className="bg-white border border-gray-200 rounded-2xl p-6 space-y-6">
                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                            <p className="font-semibold mb-2 text-blue-900">üìù Ë°®Á§∫„É¢„Éº„ÉâÈÅ∏ÊäûÔºà„Éá„É¢Áî®Ôºâ</p>
                            <div className="flex gap-2 flex-wrap">
                                {['A', 'B', 'C'].map(mode => (
                                    <button
                                        key={mode}
                                        onClick={() => setDisplayMode(mode)}
                                        className={`px-4 py-2 rounded-lg text-sm transition-colors ${
                                            displayMode === mode
                                                ? 'bg-blue-500 text-white'
                                                : 'bg-white text-gray-700 border border-gray-300 hover:border-gray-400'
                                        }`}
                                    >
                                        {mode === 'A' && '„É¢„Éº„ÉâA: „Ç∑„É≥„Éó„É´'}
                                        {mode === 'B' && '„É¢„Éº„ÉâB: „ÉÑ„Éº„É´„Éê„Éº‰ªò„Åç'}
                                        {mode === 'C' && '„É¢„Éº„ÉâC: „É™„ÉÉ„ÉÅ„Ç®„Éá„Ç£„Çø'}
                                    </button>
                                ))}
                            </div>
                            <p className="text-xs text-gray-600 mt-2">
                                {displayMode === 'A' && 'ÊúÄ„ÇÇ„Ç∑„É≥„Éó„É´„Å™„ÉÜ„Ç≠„Çπ„Éà„Ç®„É™„Ç¢'}
                                {displayMode === 'B' && '„ÉÑ„Éº„É´„Éê„Éº‰ªò„ÅçÔºàË¶ã„ÅüÁõÆ„ÅÆ„Åø„ÄÅË£ÖÈ£æÊ©üËÉΩ„Å™„ÅóÔºâ'}
                                {displayMode === 'C' && 'Google DocsÈ¢®„Ç®„Éá„Ç£„ÇøÔºàÂÆüÈöõ„Å´Ë£ÖÈ£æ„ÅåÂèçÊò†„Åï„Çå„ÇãÔºâ'}
                            </p>
                        </div>

                        <div>
                            <label className="block text-sm font-semibold mb-2">
                                „Ç´„ÉÜ„Ç¥„É™ <span className="text-red-500">*</span>
                            </label>
                            <div className="flex gap-2 flex-wrap">
                                {categories.map(cat => (
                                    <button
                                        key={cat}
                                        onClick={() => setCategory(cat)}
                                        className={`px-4 py-2 rounded-lg border transition-colors ${
                                            category === cat
                                                ? 'bg-blue-500 text-white border-blue-500'
                                                : 'bg-white text-gray-700 border-gray-300 hover:border-gray-400'
                                        }`}
                                    >
                                        {cat}
                                    </button>
                                ))}
                            </div>
                        </div>

                        <div>
                            <label className="block text-sm font-semibold mb-2">
                                „Çø„Ç§„Éà„É´ <span className="text-red-500">*</span>
                            </label>
                            <input
                                type="text"
                                value={title}
                                onChange={(e) => setTitle(e.target.value)}
                                className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="„Çø„Ç§„Éà„É´„ÇíÂÖ•Âäõ"
                            />
                        </div>

                        {displayMode === 'A' && (
                            <div>
                                <label className="block text-sm font-semibold mb-2">
                                    Êú¨Êñá <span className="text-red-500">*</span>
                                </label>
                                <textarea
                                    value={body}
                                    onChange={(e) => setBody(e.target.value)}
                                    className="w-full px-3 py-2 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    rows="10"
                                    placeholder="Êú¨Êñá„ÇíÂÖ•Âäõ"
                                />
                                <p className="text-xs text-gray-500 mt-1">
                                    „Éó„É¨„Éº„É≥„ÉÜ„Ç≠„Çπ„Éà„ÅÆ„Åø
                                </p>
                            </div>
                        )}

                        {displayMode === 'B' && (
                            <div>
                                <label className="block text-sm font-semibold mb-2">
                                    Êú¨Êñá <span className="text-red-500">*</span>
                                </label>
                                <div className="border border-gray-300 rounded-t-lg bg-gray-50 p-2 flex gap-2">
                                    <button
                                        onClick={() => console.log('Â§™Â≠óÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ')}
                                        className="px-3 py-1 hover:bg-gray-200 rounded transition-colors text-sm"
                                        title="Â§™Â≠óÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ"
                                    >
                                        <strong>B</strong>
                                    </button>
                                    <button
                                        onClick={() => console.log('Êñú‰ΩìÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ')}
                                        className="px-3 py-1 hover:bg-gray-200 rounded transition-colors text-sm"
                                        title="Êñú‰ΩìÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ"
                                    >
                                        <em>I</em>
                                    </button>
                                    <button
                                        onClick={() => console.log('‰∏ãÁ∑öÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ')}
                                        className="px-3 py-1 hover:bg-gray-200 rounded transition-colors text-sm"
                                        title="‰∏ãÁ∑öÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ"
                                    >
                                        <u>U</u>
                                    </button>
                                    <div className="border-l border-gray-300 mx-1"></div>
                                    <button
                                        onClick={() => console.log('ÁÆáÊù°Êõ∏„ÅçÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ')}
                                        className="px-3 py-1 hover:bg-gray-200 rounded transition-colors text-sm"
                                        title="ÁÆáÊù°Êõ∏„ÅçÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ"
                                    >
                                        ‚Ä¢ „É™„Çπ„Éà
                                    </button>
                                    <button
                                        onClick={() => console.log('Áï™Âè∑‰ªò„Åç„É™„Çπ„ÉàÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ')}
                                        className="px-3 py-1 hover:bg-gray-200 rounded transition-colors text-sm"
                                        title="Áï™Âè∑‰ªò„Åç„É™„Çπ„ÉàÔºàË¶ã„ÅüÁõÆ„ÅÆ„ÅøÔºâ"
                                    >
                                        1. „É™„Çπ„Éà
                                    </button>
                                </div>
                                <textarea
                                    value={body}
                                    onChange={(e) => setBody(e.target.value)}
                                    className="w-full px-3 py-2 border border-gray-300 border-t-0 rounded-b-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    rows="10"
                                    placeholder="Êú¨Êñá„ÇíÂÖ•Âäõ"
                                />
                                <p className="text-xs text-gray-500 mt-1">
                                    „ÉÑ„Éº„É´„Éê„Éº‰ªò„Åç„Å†„Åå„ÄÅÂÆüÈöõ„ÅÆË£ÖÈ£æÊ©üËÉΩ„Å™„ÅóÔºà„Éó„É¨„Éº„É≥„ÉÜ„Ç≠„Çπ„ÉàÔºâ
                                </p>
                            </div>
                        )}

                        {displayMode === 'C' && (
                            <div>
                                <label className="block text-sm font-semibold mb-2">
                                    Êú¨Êñá <span className="text-red-500">*</span>
                                </label>
                                
                                <div className="border border-gray-300 rounded-lg overflow-hidden bg-white shadow-sm">
                                    <div className="bg-gray-50 border-b border-gray-200 px-3 py-2 flex items-center gap-4 text-sm">
                                        <button className="hover:bg-gray-200 px-2 py-1 rounded transition-colors">
                                            „Éï„Ç°„Ç§„É´
                                        </button>
                                        <button className="hover:bg-gray-200 px-2 py-1 rounded transition-colors">
                                            Á∑®ÈõÜ
                                        </button>
                                        <button className="hover:bg-gray-200 px-2 py-1 rounded transition-colors">
                                            ÊåøÂÖ•
                                        </button>
                                        <button className="hover:bg-gray-200 px-2 py-1 rounded transition-colors">
                                            Êõ∏ÂºèË®≠ÂÆö
                                        </button>
                                    </div>
                                    
                                    <div className="bg-white border-b border-gray-200 px-3 py-2 flex items-center gap-1 flex-wrap">
                                        <button
                                            onClick={() => document.execCommand('undo')}
                                            className="p-1.5 hover:bg-gray-100 rounded transition-colors"
                                            title="ÂÖÉ„Å´Êàª„Åô"
                                        >
                                            ‚Ü∂
                                        </button>
                                        <button
                                            onClick={() => document.execCommand('redo')}
                                            className="p-1.5 hover:bg-gray-100 rounded transition-colors"
                                            title="„ÇÑ„ÇäÁõ¥„Åô"
                                        >
                                            ‚Ü∑
                                        </button>
                                        
                                        <div className="w-px h-6 bg-gray-300 mx-1"></div>
                                        
                                        <select 
                                            className="px-2 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50"
                                            onChange={(e) => {
                                                if (e.target.value !== 'normal') {
                                                    document.execCommand('formatBlock', false, e.target.value);
                                                }
                                            }}
                                            defaultValue="normal"
                                        >
                                            <option value="normal">ÊÆµËêΩ</option>
                                            <option value="h1">Ë¶ãÂá∫„Åó1</option>
                                            <option value="h2">Ë¶ãÂá∫„Åó2</option>
                                            <option value="h3">Ë¶ãÂá∫„Åó3</option>
                                        </select>
                                        
                                        <div className="w-px h-6 bg-gray-300 mx-1"></div>
                                        
                                        <button
                                            onClick={() => document.execCommand('bold')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors font-bold"
                                            title="Â§™Â≠ó"
                                        >
                                            B
                                        </button>
                                        <button
                                            onClick={() => document.execCommand('italic')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors italic"
                                            title="Êñú‰Ωì"
                                        >
                                            I
                                        </button>
                                        <button
                                            onClick={() => document.execCommand('underline')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors underline"
                                            title="‰∏ãÁ∑ö"
                                        >
                                            U
                                        </button>
                                        
                                        <div className="w-px h-6 bg-gray-300 mx-1"></div>
                                        
                                        <button
                                            onClick={() => document.execCommand('foreColor', false, '#000000')}
                                            className="p-1.5 hover:bg-gray-100 rounded transition-colors"
                                            title="ÊñáÂ≠óËâ≤"
                                        >
                                            <span className="text-lg">A</span>
                                        </button>
                                        
                                        <div className="w-px h-6 bg-gray-300 mx-1"></div>
                                        
                                        <button
                                            onClick={() => document.execCommand('justifyLeft')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors text-xs"
                                            title="Â∑¶ÊèÉ„Åà"
                                        >
                                            ‚â°
                                        </button>
                                        <button
                                            onClick={() => document.execCommand('justifyCenter')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors text-xs"
                                            title="‰∏≠Â§ÆÊèÉ„Åà"
                                        >
                                            ‚â°
                                        </button>
                                        <button
                                            onClick={() => document.execCommand('justifyRight')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors text-xs"
                                            title="Âè≥ÊèÉ„Åà"
                                        >
                                            ‚â°
                                        </button>
                                        <button
                                            onClick={() => document.execCommand('justifyFull')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors text-xs"
                                            title="‰∏°Á´ØÊèÉ„Åà"
                                        >
                                            ‚â°
                                        </button>
                                        
                                        <div className="w-px h-6 bg-gray-300 mx-1"></div>
                                        
                                        <button
                                            onClick={() => document.execCommand('insertUnorderedList')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors text-xs"
                                            title="ÁÆáÊù°Êõ∏„Åç"
                                        >
                                            ‚Ä¢ „É™„Çπ„Éà
                                        </button>
                                        <button
                                            onClick={() => document.execCommand('insertOrderedList')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors text-xs"
                                            title="Áï™Âè∑‰ªò„Åç„É™„Çπ„Éà"
                                        >
                                            1. „É™„Çπ„Éà
                                        </button>
                                        
                                        <div className="w-px h-6 bg-gray-300 mx-1"></div>
                                        
                                        <button
                                            onClick={() => document.execCommand('outdent')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors"
                                            title="„Ç§„É≥„Éá„É≥„ÉàËß£Èô§"
                                        >
                                            ‚á§
                                        </button>
                                        <button
                                            onClick={() => document.execCommand('indent')}
                                            className="px-2 py-1 hover:bg-gray-100 rounded transition-colors"
                                            title="„Ç§„É≥„Éá„É≥„Éà"
                                        >
                                            ‚á•
                                        </button>
                                    </div>
                                    
                                    <div
                                        contentEditable
                                        onInput={(e) => setBody(e.currentTarget.innerHTML || '')}
                                        className="min-h-[300px] px-4 py-3 focus:outline-none bg-white"
                                        style={{ 
                                            lineHeight: '1.6',
                                            fontSize: '14px'
                                        }}
                                        suppressContentEditableWarning
                                    >
                                    </div>
                                </div>
                                
                                <p className="text-xs text-blue-600 mt-2 font-semibold">
                                    ‚ú® Google DocsÈ¢®„É™„ÉÉ„ÉÅ„Ç®„Éá„Ç£„ÇøÔºöË£ÖÈ£æ„ÅåÂÆüÈöõ„Å´ÂèçÊò†„Åï„Çå„Åæ„Åô
                                </p>
                            </div>
                        )}

                        <div>
                            <label className="block text-sm font-semibold mb-2">
                                Ê∑ª‰ªò„Éï„Ç°„Ç§„É´Ôºà‰ªªÊÑèÔºâ
                            </label>
                            <div className="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors cursor-pointer">
                                <p className="text-gray-500 text-sm">„Éï„Ç°„Ç§„É´„Çí„Éâ„É≠„ÉÉ„Éó„Åæ„Åü„ÅØ„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÈÅ∏Êäû</p>
                            </div>
                        </div>

                        <div className="flex gap-3 pt-4">
                            <button
                                onClick={handleSubmit}
                                disabled={!title.trim() || !body.trim()}
                                className="flex-1 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                                ÊäïÁ®ø„Åô„Çã
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // ============ Render ============
        const root = document.getElementById('root');
        const element = React.createElement(HarmoNetBBSMock);
        ReactDOM.render(element, root);
    </script>
</body>
</html>
