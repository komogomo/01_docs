<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>掲示板TOP - HarmoNet</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // SVG Icons
        const ChevronLeft = () => (
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
        );
        
        const Star = ({ filled }) => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
            </svg>
        );
        
        const Paperclip = () => (
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
            </svg>
        );

        const BoardTopMock = () => {
            const [selectedFilters, setSelectedFilters] = useState(['all']);
            const [favorites, setFavorites] = useState([1, 3]);
            const [itemsPerPage, setItemsPerPage] = useState(10);
            const [currentPage, setCurrentPage] = useState(1);

            const filters = [
                { id: 'all', label: 'すべて' },
                { id: 'circular', label: '回覧板' },
                { id: 'group', label: 'グループ' },
                { id: 'rule', label: 'ルール' },
                { id: 'favorite', label: '⭐️' }
            ];

            const threads = [
                {
                    id: 1,
                    title: '【重要】定期総会のお知らせ',
                    summary: '2025年12月15日（日）10:00より、集会室にて定期総会を開催いたします。出席者の確認をお願いします。',
                    tags: ['回覧板', '重要'],
                    hasAttachment: true,
                    author: '理事会',
                    date: '2025/11/21 18:30'
                },
                {
                    id: 2,
                    title: '駐輪場の利用ルールについて',
                    summary: '駐輪場の整理整頓にご協力ください。自転車は指定の場所に停めていただきますようお願いいたします。',
                    tags: ['ルール'],
                    hasAttachment: false,
                    author: '管理組合',
                    date: '2025/11/20 14:15'
                },
                {
                    id: 3,
                    title: '防災訓練のご案内',
                    summary: '2025年11月30日（土）9:00より、防災訓練を実施します。全世帯のご参加をお願いいたします。',
                    tags: ['お知らせ'],
                    hasAttachment: true,
                    author: '防災委員会',
                    date: '2025/11/19 16:45'
                },
                {
                    id: 4,
                    title: '共用部の清掃について',
                    summary: 'エントランスおよび廊下の清掃スケジュールを更新しました。ご確認ください。',
                    tags: ['グループ'],
                    hasAttachment: false,
                    author: '管理会社',
                    date: '2025/11/18 10:00'
                },
                {
                    id: 5,
                    title: 'ゴミ出しルールの再確認',
                    summary: '最近、ゴミの分別が守られていないケースが見受けられます。ルールの再確認をお願いします。',
                    tags: ['ルール'],
                    hasAttachment: true,
                    author: '環境委員会',
                    date: '2025/11/17 08:30'
                }
            ];

            const handleFilterClick = (filterId) => {
                if (filterId === 'all') {
                    setSelectedFilters(['all']);
                } else {
                    const newFilters = selectedFilters.filter(f => f !== 'all');
                    if (newFilters.includes(filterId)) {
                        const updated = newFilters.filter(f => f !== filterId);
                        setSelectedFilters(updated.length === 0 ? ['all'] : updated);
                    } else {
                        setSelectedFilters([...newFilters, filterId]);
                    }
                }
            };

            const toggleFavorite = (threadId) => {
                setFavorites(prev =>
                    prev.includes(threadId)
                        ? prev.filter(id => id !== threadId)
                        : [...prev, threadId]
                );
            };

            return (
                <div className="min-h-screen bg-white font-sans">
                    {/* Header */}
                    <header className="sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between z-10">
                        <button className="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                            <ChevronLeft />
                        </button>
                        <h1 className="text-lg font-bold">掲示板</h1>
                        <div className="w-10"></div>
                    </header>

                    {/* Filter Bar */}
                    <div className="sticky top-[57px] bg-white border-b border-gray-200 px-4 py-3 overflow-x-auto z-10">
                        <div className="flex gap-2 min-w-max">
                            {filters.map(filter => (
                                <button
                                    key={filter.id}
                                    onClick={() => handleFilterClick(filter.id)}
                                    className={`px-4 py-1.5 rounded-full text-sm whitespace-nowrap transition-all ${
                                        selectedFilters.includes(filter.id)
                                            ? 'bg-blue-500 text-white border-2 border-blue-500'
                                            : 'bg-white text-gray-700 border-2 border-gray-300 hover:border-gray-400'
                                    }`}
                                >
                                    {filter.label}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* Thread List */}
                    <div className="px-4 py-6 space-y-4">
                        {threads.map(thread => (
                            <div
                                key={thread.id}
                                className="bg-white border border-gray-200 rounded-2xl p-4 hover:bg-gray-50 transition-colors cursor-pointer"
                            >
                                {/* Title Row */}
                                <div className="flex items-start justify-between mb-2">
                                    <h2 className="font-bold text-base flex-1 line-clamp-2 pr-2">
                                        {thread.title}
                                    </h2>
                                    <button
                                        onClick={(e) => {
                                            e.stopPropagation();
                                            toggleFavorite(thread.id);
                                        }}
                                        className="flex-shrink-0 p-1 hover:bg-gray-100 rounded transition-colors"
                                    >
                                        <Star filled={favorites.includes(thread.id)} />
                                    </button>
                                </div>

                                {/* Summary */}
                                <p className="text-sm text-gray-600 mb-3 line-clamp-2">
                                    {thread.summary}
                                </p>

                                {/* Meta Row */}
                                <div className="flex items-center justify-between text-xs text-gray-500">
                                    <div className="flex items-center gap-2">
                                        {thread.tags.map(tag => (
                                            <span
                                                key={tag}
                                                className="px-2 py-1 bg-gray-100 rounded-full"
                                            >
                                                {tag}
                                            </span>
                                        ))}
                                        {thread.hasAttachment && (
                                            <Paperclip />
                                        )}
                                    </div>
                                    <div className="flex flex-col items-end gap-0.5">
                                        <span>{thread.author}</span>
                                        <span>{thread.date}</span>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Pagination */}
                    <div className="px-4 py-6 border-t border-gray-200">
                        <div className="flex items-center justify-center gap-3 flex-wrap">
                            {/* Items per page */}
                            <div className="flex items-center gap-2">
                                <span className="text-sm text-gray-600"></span>
                                <select 
                                    value={itemsPerPage}
                                    onChange={(e) => setItemsPerPage(Number(e.target.value))}
                                    className="px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white cursor-pointer hover:border-gray-400 transition-colors"
                                >
                                    <option value={10}>10件</option>
                                    <option value={20}>20件</option>
                                    <option value={50}>50件</option>
                                </select>
                            </div>

                            {/* Previous button */}
                            <button 
                                onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}
                                disabled={currentPage === 1}
                                className="px-4 py-1.5 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                                前へ
                            </button>

                            {/* Page numbers */}
                            {[1, 2, 3].map(page => (
                                <button
                                    key={page}
                                    onClick={() => setCurrentPage(page)}
                                    className={`w-8 h-8 rounded-lg text-sm transition-colors ${
                                        page === currentPage
                                            ? 'bg-blue-500 text-white'
                                            : 'border border-gray-300 hover:bg-gray-50'
                                    }`}
                                >
                                    {page}
                                </button>
                            ))}

                            {/* Next button */}
                            <button 
                                onClick={() => setCurrentPage(currentPage + 1)}
                                className="px-4 py-1.5 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 transition-colors"
                            >
                                次へ
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<BoardTopMock />, document.getElementById('root'));
    </script>
</body>
</html>